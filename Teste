--// Gui Principal
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui

local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 150, 0, 50)
button.Position = UDim2.new(0.5, -75, 0.9, -25)
button.Text = "KILL MODE"
button.TextScaled = true
button.BackgroundColor3 = Color3.fromRGB(255,0,0)
button.TextColor3 = Color3.fromRGB(255,255,255)
button.Parent = ScreenGui
button.BorderSizePixel = 0
button.AutoButtonColor = true

--// Rainbow
task.spawn(function()
    while task.wait(0.1) do
        local t = tick()
        button.BackgroundColor3 = Color3.fromHSV((t % 5) / 5, 1, 1)
    end
end)

--// Ativar/Desativar
local killEnabled = false
button.MouseButton1Click:Connect(function()
    killEnabled = not killEnabled
    if killEnabled then
        button.Text = "KILL: ON"
    else
        button.Text = "KILL: OFF"
    end
end)

--// Função de matar players
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function killPlayer(target)
    -- tentativa 1: setar vida
    if target:FindFirstChild("Humanoid") then
        target.Humanoid.Health = 0
    end
    -- tentativa 2: destruir character
    for _, part in ipairs(target:GetChildren()) do
        if part:IsA("BasePart") then
            part:Destroy()
        end
    end
end

--// Detectar toque
LocalPlayer.CharacterAdded:Connect(function(char)
    local hrp = char:WaitForChild("HumanoidRootPart")

    hrp.Touched:Connect(function(hit)
        if killEnabled then
            local targetPlayer = Players:GetPlayerFromCharacter(hit.Parent)
            if targetPlayer and targetPlayer ~= LocalPlayer then
                killPlayer(hit.Parent)
            end
        end
    end)
end)
