-- Hub Kill ao Tocar (Delta Executor)
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- Verifica RemoteEvent
local KillEvent = ReplicatedStorage:FindFirstChild("KillEvent")
if not KillEvent then
    warn("KillEvent não encontrado! Crie um RemoteEvent chamado 'KillEvent'.")
    return
end

-- Criar GUI diretamente no CoreGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "HubTesteDelta"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = game:GetService("CoreGui") -- CoreGui funciona melhor no Delta

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 220, 0, 100)
frame.Position = UDim2.new(0.5, -110, 0.5, -50)
frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
frame.Active = true
frame.Draggable = true
frame.Parent = ScreenGui

local button = Instance.new("TextButton")
button.Size = UDim2.new(0.8, 0, 0, 60)
button.Position = UDim2.new(0.1, 0, 0.2, 0)
button.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- Vermelho fixo
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.Text = "Ativar Kill"
button.TextScaled = true
button.Parent = frame

-- Ativar/Desativar Kill
local killEnabled = false
button.MouseButton1Click:Connect(function()
    killEnabled = not killEnabled
    button.Text = killEnabled and "Kill: ON" or "Ativar Kill"
end)

-- Função de Kill ao tocar
local function setupCharacter(char)
    local hrp = char:WaitForChild("HumanoidRootPart")
    hrp.Touched:Connect(function(hit)
        if killEnabled then
            local targetPlayer = Players:GetPlayerFromCharacter(hit.Parent)
            if targetPlayer and targetPlayer ~= LocalPlayer then
                KillEvent:FireServer(hit.Parent)
            end
        end
    end)
end

-- Configuração inicial e respawn
if LocalPlayer.Character then
    setupCharacter(LocalPlayer.Character)
end
LocalPlayer.CharacterAdded:Connect(setupCharacter)
